<template name="WidgetShow">
  <li id="{{ widgetId }}"
      class="widget col-{{ width }} row-{{ height }} {{ widgetClass }}"
      data-sizex="{{ width }}" data-sizey="{{ height }}"
      data-row="{{ position.x }}" data-col="{{ position.y }}">

    <div class="buttons">
      {{# if providesSettings }}
      <a class="settings" href="#" id="{{ widgetId 'settings' }}"
        title="Settings" data-toggle="popover" data-trigger="click"
        data-html="true" data-placement="auto right" data-container="body">
        <span class="glyphicon glyphicon-cog"></span>
      </a>
      <div class="hidden for-{{ widgetId 'settings' }}">
        {{> Template.dynamic template=settingsTemplate data=data }}
      </div>
      {{/if}} 

      <a class="about" href="#" id="{{ widgetId 'about' }}"
        title="About" data-toggle="popover" data-trigger="click"
        data-html="true" data-placement="auto right" data-container="body">
        <span class="glyphicon glyphicon-info-sign"></span>
      </a>
      <div class="hidden for-{{ widgetId 'about' }}">
      {{# if providesInfo }}
        {{> Template.dynamic template=infoTemplate data=data }}
      {{else}}
        {{> DefaultWidgetInfo }}
      {{/if}}
      </div>

      <a href="#" class="remove-widget" title="Remove widget">
        <span class="glyphicon glyphicon-remove"></span>
      </a>
    </div>

    {{> Template.dynamic template=widgetTemplate data=data }}
    <p class="widget-data-source">
      Source: <a href="{{ widgetMetadata.org.url }}" target="_blank">
        {{ widgetMetadata.org.shortName }}
      </a>
    </p>
  </li>
</template>

<template name="DefaultWidgetInfo">
<p>
  More information about the data backing this widget can be found at: 
<a href="{{ widgetMetadata.widget.url }}" target="_blank">
  {{ widgetMetadata.widget.url }}
</a>
</p>

<button type="button" class="close close-info" aria-label="Close">
  <span aria-hidden="true">&times;</span>
</button>
</template>
