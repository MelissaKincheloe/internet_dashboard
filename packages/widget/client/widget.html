<template name="WidgetShow">
  <li id="{{ componentId 'widget' }}" class="widget {{ widgetClass }} hidden"
      data-mid="{{ _id }}" {{ gridAttrs }}>

    <div class="title-bar" style="height: {{ titleBar.height }}px;">
      {{# if package.metadata.org }}
      <p class="data-source">
        From <a href="{{ package.metadata.org.url }}" target="_blank">
          {{ package.metadata.org.shortName }}
        </a>
      </p>
      {{/if}}

      <div class="buttons">
        {{# if dashboard.editable }}
        <a href="#" class="remove-widget" title="Remove widget">
          <span class="glyphicon glyphicon-remove"></span>
        </a>
        {{/if}}

        <a class="button-info" href="#" id="{{ componentId 'Info' }}"
          title="About" data-toggle="popover" data-trigger="click"
          data-html="true" data-placement="auto right" data-viewport="#dashboard"
          data-container="body">
          <span class="glyphicon glyphicon-info-sign"></span>
        </a>
        {{> WidgetInfo }}

        {{# if dashboard.editable }}
          {{# if providesSettings }}
            <a class="button-settings" href="#" id="{{ componentId 'Settings' }}"
              title="Settings" data-toggle="popover" data-trigger="click"
              data-html="true" data-placement="auto right" data-viewport="#dashboard"
              data-container="body">
              <span class="glyphicon glyphicon-cog"></span>
            </a>

            {{> WidgetSettings }}
          {{/if}}
        {{/if}}
      </div>
    </div>

    <div class="widget-body">
      {{> Template.dynamic template=widgetTemplate data=data }}
    </div>
  </li>
</template>
